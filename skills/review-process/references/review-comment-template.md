# レビューコメント票テンプレート

ALWAYS use this exact template structure when generating a review comment sheet.

---

# レビューコメント票

## 基本情報

| 項目 | 内容 |
|:--|:--|
| **レビュー対象** | [対象成果物のファイル名またはID] |
| **対象種別** | 設計書 / コード / テスト項目 |
| **レビュアー** | [レビュアー名] |
| **レビュー日** | [YYYY-MM-DD] |
| **ステータス** | 🔴Pending Fix / 🟡Pending Review / 🔵Pending Deployment / 🟠Deferred TODO / 🟢Complete |

## サマリー

| 重要度 | 指摘件数 | うちTODO繰延 |
|:--|:--|:--|
| Fatal | [N件] | [N件] |
| Major | [N件] | [N件] |
| Minor | [N件] | [N件] |
| **合計** | **[N件]** | **[N件]** |

## コメント一覧

| No | 重要度 | 種別 | 該当箇所 | 指摘内容 | 対応方針案 | 対応内容 | 対応者 | 対応日 | 確認結果 | 確認者 | 確認日 | 確認備考 |
|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|:--|
| 1 | Fatal/Major/Minor | 欠陥/矛盾/不明確/改善提案 | [セクション名、行番号等] | [問題の具体的説明] | [レビュアーが提案する改善方針] | [レビュイーが実施した修正内容] | [修正者] | [YYYY-MM-DD] | OK/NG | [確認者] | [YYYY-MM-DD] | [確認時の補足事項] |

### 修正NGの場合の記録方法

修正が不十分で差し戻しとなった場合、元のコメント行はそのまま残し、**新しい行を追加**して修正履歴を記録する:

```markdown
| No | 重要度 | ... | 確認結果 | 確認備考 |
|:--|:--|:--|:--|:--|
| 3 | Major | ... | NG | エラーメッセージが設計と異なる。再修正が必要 |
| 3.1 | - | ... | OK | NG指摘を反映し修正完了。設計書との整合性を確認済み |
```

- **No**: 元のコメント番号に枝番を付与（3 → 3.1 → 3.2）
- **重要度/種別**: 再修正行は `-`（元コメントを参照）
- **対応方針案**: 差し戻し時のNG理由から導出した具体的な修正指示
- 枝番が **3回以上** 発生した場合、根本原因の見直しを検討すること

### TODO繰延の場合の記録方法

コメントがTODO繰延として承認された場合:

```markdown
| No | ... | 対応内容 | ... | 確認結果 | 確認備考 |
|:--|:--|:--|:--|:--|:--|
| 5 | ... | TODO繰延 | ... | OK（繰延承認） | 繰延理由: [理由] / 解消予定: [工程名] / 期限: [YYYY-MM-DD] |
```

## コメント詳細

各コメントの詳細な説明が必要な場合、以下の形式で記載する。一覧テーブルだけで十分な場合は省略可。

### コメント N: [短いタイトル]

- **該当箇所**: [ファイルパス、セクション名、行番号等]
- **指摘内容**: [問題の詳細な説明。なぜこれが問題なのか、どのような影響があるかを明記]
- **対応方針案**: [具体的な改善提案。複数案がある場合は優先度付きで列挙]

## 水平展開

### 水平展開一覧

| No | 元コメントNo | 展開観点 | 実施要否 | 対象範囲 | 実施結果 | 対応要否 | 実施日 |
|:--|:--|:--|:--|:--|:--|:--|:--|
| H-1 | [元のコメントNo] | [同種の問題が他でも発生しうる観点] | 要 / 否 | [チェック対象の成果物一覧] | [検索結果の概要] | 要 / 否 | [YYYY-MM-DD] |

### 実施タイミング

水平展開は **Phase 3: 修正確認で全コメントがOKとなった後** に実施する。

理由:
1. 修正アプローチが正しいことを確認してから他に展開するため
2. NG差し戻しが発生した場合、展開内容も変わる可能性があるため
3. 実施漏れを防ぐため、確認完了と水平展開をセットで行う

### 水平展開で新たな問題が見つかった場合

水平展開の結果、別の成果物で同種の問題が発見された場合:
1. 発見された問題は **新規のレビューコメント票** として起票する
2. 元のコメント票の水平展開一覧に、新規起票したコメント票への参照を記録する
3. 新規コメント票は通常のレビューフロー（Phase 1 → 2 → 3）に従う
